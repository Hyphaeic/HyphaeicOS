/* Compositor - Main Window Manager Container */
.compositor {
  position: fixed;
  left: calc(100vw / 27);
  top: 0;
  right: 0;
  bottom: 0;
  display: flex;
  flex-direction: row;
  background-color: transparent;
  z-index: 100;
}

/* Subcontainer base - 50/50 split with padding */
.compositor-subcontainer {
  width: 50%;
  height: 100%;
  box-sizing: border-box;
  position: relative;
  padding: calc(100vw / 27);
  /* Allow width to shrink below content size */
  min-width: 0;
  flex-shrink: 0;
  /* Smooth width animation for maximize/minimize */
  /* Animate width, opacity, and horizontal padding together */
  transition: width 0.33s ease-in-out, 
              opacity 0.33s ease-in-out, 
              padding-left 0.33s ease-in-out, 
              padding-right 0.33s ease-in-out;
}

/* Left subcontainer - first window slot */
.compositor-subcontainer-left {
  background-color: transparent;
  display: flex;
  flex-direction: column;
}

/* Right subcontainer - second window slot */
.compositor-subcontainer-right {
  background-color: transparent;
  display: flex;
  flex-direction: column;
}

/* Maximized state - subcontainer takes full width */
.compositor-subcontainer-maximized {
  width: 100%;
}

/* Hidden state - other subcontainer when one is maximized */
.compositor-subcontainer-hidden {
  width: 0;
  min-width: 0;
  opacity: 0;
  /* Keep in DOM but hidden for smooth transitions */
  overflow: hidden;
  /* Remove padding when hidden to prevent layout jump */
  padding-left: 0;
  padding-right: 0;
  /* Pointer events none so it doesn't block anything */
  pointer-events: none;
}

/* Mobile mode - Portrait/Square (aspect ratio â‰¤ 1:1) */
@media (max-aspect-ratio: 1/1) {
  .compositor {
    left: 0;
    top: 0;
    right: 0;
    bottom: calc(100vh / 9);
  }

  /* Maintain side-by-side layout even on mobile */
  .compositor-subcontainer {
    width: 50%;
    height: 100%;
    padding: calc(100vw / 27);
  }
}
